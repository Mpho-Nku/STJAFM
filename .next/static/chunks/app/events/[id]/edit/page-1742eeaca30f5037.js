(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{6715:function(e,t,n){Promise.resolve().then(n.bind(n,1627))},1627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(7437),i=n(2265),s=n(6463),l=n(1180);function r(){let{id:e}=(0,s.useParams)(),t=(0,s.useRouter)(),[n,r]=(0,i.useState)(null);(0,i.useEffect)(()=>{l.O.from("events").select("*").eq("id",e).single().then(e=>{let{data:t,error:n}=e;n&&console.error(n),t&&r({...t,start_time:t.start_time?new Date(t.start_time).toISOString().slice(0,16):"",end_time:t.end_time?new Date(t.end_time).toISOString().slice(0,16):""})})},[e]);let u=async()=>{let{error:a}=await l.O.from("events").update({title:n.title,description:n.description,start_time:n.start_time,end_time:n.end_time,location:n.location}).eq("id",e);a?alert("Update failed: "+a.message):(alert("Event updated"),t.push("/events/".concat(e)))};return n?(0,a.jsxs)("div",{className:"max-w-lg mx-auto p-6 bg-white rounded-lg shadow-md space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Edit Event"}),(0,a.jsx)("input",{className:"input",value:n.title,onChange:e=>r({...n,title:e.target.value}),placeholder:"Event Title"}),(0,a.jsx)("textarea",{className:"input",value:n.description||"",onChange:e=>r({...n,description:e.target.value}),placeholder:"Description"}),(0,a.jsx)("input",{type:"datetime-local",className:"input",value:n.start_time,onChange:e=>r({...n,start_time:e.target.value})}),(0,a.jsx)("input",{type:"datetime-local",className:"input",value:n.end_time,onChange:e=>r({...n,end_time:e.target.value})}),(0,a.jsx)("input",{className:"input",value:n.location||"",onChange:e=>r({...n,location:e.target.value}),placeholder:"Location"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:u,children:"Save"})]}):(0,a.jsx)("div",{children:"Loading..."})}},1180:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});let a=(0,n(4392).createClientComponentClient)()},6463:function(e,t,n){"use strict";var a=n(1169);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[392,971,23,744],function(){return e(e.s=6715)}),_N_E=e.O()}]);