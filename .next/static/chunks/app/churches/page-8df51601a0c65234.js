(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{5054:function(e,t,s){Promise.resolve().then(s.bind(s,1884))},1884:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),r=s(2265),n=s(1180),l=s(7138),c=s(6648);function o(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)("");(0,r.useEffect)(()=>{i()},[]);let i=async()=>{let{data:e,error:s}=await n.O.from("churches").select("*").order("created_at",{ascending:!1});s?console.error("Error fetching churches:",s):t(e||[])},u=e.filter(e=>[e.name,e.pastor_name,e.suburb,e.township].filter(Boolean).some(e=>e.toLowerCase().includes(s.toLowerCase())));return(0,a.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-blue-900",children:"Churches"}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("input",{type:"text",placeholder:"Search by name, pastor, suburb, or township...",value:s,onChange:e=>o(e.target.value),className:"input w-full"})}),0===u.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No churches found."}):(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:u.map(e=>{var t;return(0,a.jsxs)(l.default,{href:"/churches/".concat(e.id),className:"card p-4 hover:shadow-lg transition",children:[(null===(t=e.images)||void 0===t?void 0:t.length)>0&&(0,a.jsx)(c.default,{src:e.images[0],alt:e.name,width:400,height:200,className:"w-full h-40 object-cover rounded-lg mb-3"}),(0,a.jsx)("h2",{className:"text-lg font-semibold",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Pastor: ",e.pastor_name||"N/A"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.street,", ",e.suburb,", ",e.township]})]},e.id)})})]})}},1180:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(4392).createClientComponentClient)()}},function(e){e.O(0,[392,138,648,971,23,744],function(){return e(e.s=5054)}),_N_E=e.O()}]);